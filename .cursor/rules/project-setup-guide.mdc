---
description: Conversational setup wizard for configuring web apps
alwaysApply: false
---

# Project Setup Guide

This rule defines how to run the `/setup` wizard - a conversational, step-by-step process that gathers context about what the user is building and customizes the project accordingly.

## Trigger

Activate when user says:
- `/setup`
- "Set up my app"
- "Configure my app"
- "I want to start building"
- "Help me create an app"

## Flow Overview

```
1. Context: What are you building for?
2. Description: Describe your app
3. Features: Multi-select feature types
4. Visual: Optional image/description
5. Name: What to call the app
6. Runtime: Docker or local
7. Build: Apply customizations
8. Start: Launch the app
```

## Step-by-Step Implementation

### Step 1: Context

Use AskQuestion:

```json
{
  "title": "Let's Set Up Your App",
  "questions": [{
    "id": "purpose",
    "prompt": "What are you building this for?\n\nThis helps me adjust the style and polish level.",
    "options": [
      { "id": "client", "label": "A client project or engagement" },
      { "id": "internal", "label": "An internal tool for my team" },
      { "id": "personal", "label": "A personal project or learning" },
      { "id": "other", "label": "Something else" }
    ]
  }]
}
```

### Step 2: Description

**First, open the inspiration gallery:**

```bash
open deployer-apps/citizen-dev7/src/ui/public/inspiration.html
```

This shows visual examples of apps they can build to spark ideas.

Then ask in chat:

"**I've opened an inspiration gallery in your browser** with examples of what you can build.

Describe your app in a sentence or two - what should it do? Who will use it?

Examples:
- 'A dashboard for clients to see project status and milestones'
- 'A tool for tracking workshop feedback and generating reports'
- 'A form where customers submit support requests'"

### Step 3: Features

Use AskQuestion with multi-select:

```json
{
  "title": "What features does your app need?",
  "questions": [{
    "id": "features",
    "prompt": "Select all that apply:",
    "allow_multiple": true,
    "options": [
      { "id": "dashboard", "label": "Dashboard & Charts - Display data with graphs, tables, and metrics" },
      { "id": "forms", "label": "Forms & Data Entry - Collect information with forms and validation" },
      { "id": "analytics", "label": "Data Analytics - Filter, sort, search, and export data" },
      { "id": "chatbot", "label": "AI Chatbot - Answer questions using AI (additional setup later)" },
      { "id": "files", "label": "File Upload/Download - Upload documents or download reports" },
      { "id": "auth", "label": "User Login - Require users to sign in" },
      { "id": "api", "label": "Connect to External Data - Pull data from APIs or databases" }
    ]
  }]
}
```

### Step 4: Visual Inspiration

Use AskQuestion:

```json
{
  "title": "Visual Inspiration (Optional)",
  "questions": [{
    "id": "visual",
    "prompt": "Do you have any visual inspiration?\n\nA sketch, screenshot, or example helps me match your vision.",
    "options": [
      { "id": "image", "label": "Yes, I have an image to share" },
      { "id": "describe", "label": "I'll describe what I want" },
      { "id": "skip", "label": "No, use your best judgment" }
    ]
  }]
}
```

**If image:** "Please share your image. I'll use it for layout, colors, and style inspiration."

**If describe:** "Describe the look you're going for. Examples: 'Clean like Notion', 'Professional with blue', 'Modern with shadows'"

### Step 5: App Name

Ask in chat:

"**What would you like to call your app?**

Examples: 'Client Portal', 'Feedback Tracker', 'Project Dashboard'"

### Step 6: Runtime Choice

Use AskQuestion:

```json
{
  "title": "How would you like to run your app?",
  "questions": [{
    "id": "runtime",
    "prompt": "How do you want to preview your app?\n\n**Option 1: Docker (Recommended)**\nDocker is an app that runs your project in a safe 'bubble' on your computer. You install it once, then everything just works - no other software needed.\nBest for: Most people, especially if you're not a developer.\n\n**Option 2: Run directly on your computer**\nThis runs the app using software installed on your computer. You'll need Node.js and Python installed.\nBest for: Developers who already have these tools.",
    "options": [
      { "id": "docker", "label": "Docker (Recommended) - Easiest, install one app and done" },
      { "id": "local", "label": "Run directly - For developers with Node.js/Python" }
    ]
  }]
}
```

### Step 6b: Docker Setup (if Docker selected)

**Check if Docker is running:**
```bash
docker info > /dev/null 2>&1 && echo "DOCKER_RUNNING" || echo "DOCKER_NOT_RUNNING"
```

**If not running, guide them:**

```json
{
  "title": "Let's Get Docker Running",
  "questions": [{
    "id": "docker_status",
    "prompt": "Docker needs to be open for your app to run.\n\nDo you have Docker Desktop installed?",
    "options": [
      { "id": "installed", "label": "Yes, I have Docker Desktop" },
      { "id": "not_installed", "label": "No, I need to install it" }
    ]
  }]
}
```

If not installed: Provide download link and wait for them to install.

If installed: Tell them to open Docker Desktop, then ask:

```json
{
  "title": "Is Docker Running?",
  "questions": [{
    "id": "docker_open",
    "prompt": "Is Docker Desktop open and running?\n\nLook for a whale icon in your menu bar (Mac) or system tray (Windows).",
    "options": [
      { "id": "yes", "label": "Yes, Docker is running" },
      { "id": "no", "label": "I'm having trouble" }
    ]
  }]
}
```

**Once Docker confirmed running, automatically start the app:**
```bash
cd deployer-apps/citizen-dev7/src
./scripts/docker-dev.sh
```

## After Collecting Inputs

### Apply Customizations

1. **Set app name** in package.json, index.html, headers
2. **Use description** to name pages and generate sample data
3. **Apply visual inspiration** (colors, layout, style)
4. **Add selected features** (components, pages, routing)
5. **Adjust polish level** based on purpose

### Feature Components

| Feature | What to Add |
|---------|-------------|
| Dashboard & Charts | Chart components, Dashboard page, sample data |
| Forms & Data Entry | Form components, validation, sample form |
| Data Analytics | Data table, filters, export button |
| AI Chatbot | Chat UI (existing), placeholder responses |
| File Upload/Download | Upload component, file list |
| User Login | Login page, auth wrapper |
| Connect to External Data | API client, data hooks |

### Start the App

Ask if they want to start:

```json
{
  "title": "Your App is Ready!",
  "questions": [{
    "id": "start",
    "prompt": "Would you like to start your app now?",
    "options": [
      { "id": "yes", "label": "Yes, start it - Opens at http://localhost:3000" },
      { "id": "no", "label": "No, I want to customize more first" }
    ]
  }]
}
```

**If yes:** Run Docker or local dev commands
**If no:** Explain they can use `/launch` anytime

### Show Next Steps

Tailored to their selections:
- "Your Dashboard has sample charts. Try: 'Change the chart colors'"
- "Your form is ready. Try: 'Add a phone number field'"
- If chatbot: "Run `/add-ai` when you want to enable AI responses"

## Critical Instructions

1. **BE CONVERSATIONAL** - Friendly wizard, not a form
2. **WAIT FOR RESPONSES** - Don't rush
3. **HANDLE IMAGES** - If shared, analyze for design inspiration
4. **ACTUALLY BUILD** - Make real changes to the codebase
5. **OFFER TO START** - Don't leave them wondering what's next
