# Cursor Rules (bootstrap)

Use these as the minimal "entry point" for AI work in this project.

## Source of Truth

- **Engineering rules**: `.cursor/rules/` directory (see development-guidelines.mdc)
- **UI/UX Style Guide**: `ui/STYLE_GUIDE.md` and `ui/DESIGN_TOKENS.md` (create these if needed)
- **Code Templates**: `code-templates/` - Component, hook, store templates
- **Documentation**: `docs/` folder - consult before changes, update when you make changes
- **Backlog**: `docs/backlog/BACKLOG.md` - capture out-of-scope ideas here

## Project Information

**Project Name**: Citizen Dev7
**Repository**: [YOUR_GITHUB_REPO_URL]
**Team**: [YOUR_TEAM_NAME]

## Local Development

### Local Development (Recommended)

Standard developer workflow with fast iteration.

| Service | Port | URL |
|---------|------|-----|
| Backend (FastAPI) | 3000 | http://localhost:3000 |
| Frontend (Vite) | 5173 | http://localhost:5173 |

```bash
# Terminal 1: Backend
cd deployer-apps/citizen-dev7/src
uvicorn api:app --reload --port 3000

# Terminal 2: Frontend
cd deployer-apps/citizen-dev7/src/ui
npm install
npm run dev
```

### Alternative: Docker Development

If you don't want to install Node.js/Python locally:

```bash
cd deployer-apps/citizen-dev7/src
./scripts/docker-dev.sh          # Pre-built UI, backend hot reload
./scripts/docker-dev.sh --build  # Rebuild image first
./scripts/docker-dev.sh --ui-dev # Full hot reload (UI + backend)
```

## Non-Negotiables

- **Local-first**: Prefer local development for faster iteration (Docker available as alternative)
- **UI consistency**: Always match `ui/STYLE_GUIDE.md` patterns (create if needed)
- **Code consistency**: Match existing conventions (TypeScript strict, `@/` imports, Tailwind + `cn()`)
- **Performance**: Do not introduce UI-blocking synchronous loops
- **Security**: Never commit secrets; validate untrusted inputs
- **Documentation**: Consult relevant docs before changes; update docs when behavior changes

## Quick Doc Lookup

| Change Type | Consult | Update |
|-------------|---------|--------|
| New component | `code-templates/frontend/` | - |
| New API route | `code-templates/backend/` | - |
| UI patterns | `ui/STYLE_GUIDE.md` | - |
| Bug fix (recurring) | - | `docs/LESSONS_LEARNED.md` |
| Out-of-scope idea | `docs/backlog/BACKLOG.md` | `docs/backlog/BACKLOG.md` |
| User-visible change | - | `CHANGELOG.md` |

## Tech Stack

### Frontend
- React 18 + TypeScript
- Vite (built in Docker, no local install needed)
- Tailwind CSS
- Zustand (if needed)

### Backend
- Python 3.11+
- FastAPI
- Multi-agent framework
- AI Gateway integration

### Development
- **Local** - Primary development (Node.js + Python)
- **Docker** - Alternative (no local setup required)
- Kubernetes - Production deployment via Deployer K8s PaaS

## Key Features

- **Fast local development**: Hot reload for both frontend and backend
- **Docker option**: Available for those who prefer containerized development
- **Agent framework**: Multi-agent AI workspace for domain-specific agents
- **Templates**: Code templates, docs templates, config templates for rapid development
